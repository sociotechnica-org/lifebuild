# Multi-Store Configuration
# Comma-separated list of store IDs to monitor
STORE_IDS=workspace-123,workspace-456,workspace-789

# Default Store Connection Settings
LIVESTORE_SYNC_URL=ws://localhost:8787
STORE_DATA_PATH=./data

# Store Connection Settings
STORE_CONNECTION_TIMEOUT=30000
STORE_RECONNECT_INTERVAL=5000
STORE_MAX_RECONNECT_ATTEMPTS=3

# WebSocket ping/pong health check (optional, defaults shown)
# LIVESTORE_PING_INTERVAL_MS=5000
# LIVESTORE_PING_TIMEOUT_MS=2000

# Store-specific configuration (optional)
# Format: STORE_<STORE_ID>_<SETTING>
# Example for workspace-123:
# STORE_WORKSPACE_123_SYNC_URL=ws://custom-url:8787
# STORE_WORKSPACE_123_DATA_PATH=./data/custom-path
# STORE_WORKSPACE_123_DEVTOOLS_URL=http://localhost:4301

# Server Configuration
PORT=3003

# Auth Worker integration for reconciliation
AUTH_WORKER_INTERNAL_URL=http://localhost:8788
# Optional: override reconciliation interval (defaults to 5 minutes)
WORKSPACE_RECONCILE_INTERVAL_MS=300000
# Rate limit for manual reconciliation trigger (defaults to 60 seconds)
MANUAL_RECONCILE_MIN_INTERVAL_MS=60000

# Server bypass token for internal worker communication
# Must match worker's SERVER_BYPASS_TOKEN
SERVER_BYPASS_TOKEN=dev-server-bypass-token-change-me

# Webhook secret for workspace lifecycle events
# Must match auth-worker's WEBHOOK_SECRET
WEBHOOK_SECRET=dev-webhook-secret-change-me

# Optional: dashboard link included in orchestration logs for quick incident access
ORCHESTRATION_INCIDENT_DASHBOARD_URL="https://observability.example.com/dashboards/workspace-orchestration"

# Environment (development, staging, production)
# Used by Sentry to separate events by environment
NODE_ENV=development

# Braintrust LLM API credentials (for server-side agentic loop - future use)
# Get these from https://www.braintrust.dev/
BRAINTRUST_API_KEY="your-braintrust-api-key-here"
BRAINTRUST_PROJECT_ID="your-braintrust-project-id-here"

# Sentry Error Tracking
# Get your DSN from https://sentry.io/
# The same DSN can be used across environments - Sentry will separate events by NODE_ENV
# When configured, both Sentry SDK and pino-sentry-transport will send errors and warnings to Sentry
SENTRY_DSN="your-sentry-dsn-here"

# Sentry Source Maps Upload (for production builds only)
# Get these from https://sentry.io/settings/account/api/auth-tokens/
# Only needed when building for production (NODE_ENV=production)
SENTRY_AUTH_TOKEN="your-sentry-auth-token-here"
SENTRY_ORG="your-sentry-org-slug"
SENTRY_PROJECT="your-sentry-project-slug"
