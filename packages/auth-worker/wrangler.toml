name = "lifebuild-auth"
compatibility_date = "2024-05-12"
main = "./src/index.ts"

[[routes]]
pattern = "auth.lifebuild.me/*"
zone_name = "lifebuild.me"

[vars]
ENVIRONMENT = "production"
# These secrets are set via `wrangler secret put`:
# - SERVER_WEBHOOK_URL - Webhook URL for server notifications
# - WEBHOOK_SECRET - Secret for webhook authentication
# - DISCORD_WEBHOOK_URL - Discord webhook for signup notifications
# - SENTRY_DSN - Sentry DSN for error monitoring

[[durable_objects.bindings]]
name = "USER_STORE"
class_name = "UserStore"
script_name = "lifebuild-auth"

[[kv_namespaces]]
binding = "WORKSPACE_CLAIMS_VERSION"
id = "26a53466bc6c4ea78acbd675fd4996e7"
preview_id = "26a53466bc6c4ea78acbd675fd4996e7"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["UserStore"]

[observability.logs]
enabled = true
