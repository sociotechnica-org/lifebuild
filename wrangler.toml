name = "work-squared"
compatibility_date = "2024-05-12"

[pages]
build_output_dir = "./dist"
build_command = "pnpm build"
functions_dir = "./functions"

[[durable_objects.bindings]]
name = "WEBSOCKET_SERVER"
class_name = "WebSocketServer"

[[migrations]]
tag = "v1"
new_classes = ["WebSocketServer"]

[[d1_databases]]
binding = "DB"
# This database was created with `pnpm wrangler d1 create work-squared-prod`
database_name = "work-squared-prod"
# The database_id is configured via the D1_DATABASE_ID environment variable/secret
database_id = "${D1_DATABASE_ID}"

[vars]
# should be set via CF dashboard (as secret)
# ADMIN_SECRET = "..."
